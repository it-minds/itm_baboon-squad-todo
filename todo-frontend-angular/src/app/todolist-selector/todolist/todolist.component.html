<app-add-todolist-modal></app-add-todolist-modal>

<nz-select nzShowSearch nzAllowClear nzPlaceHolder="Select a todolist" style="width: 200px;" [(ngModel)]="selectedValue"
  (ngModelChange)="onTodolistSelect($event)">
  <li *ngFor="let todoList of todoLists | removeDuplicates:'title'">
    <nz-option [nzLabel]="todoList.title" [nzValue]="todoList"></nz-option>
  </li>
</nz-select>

<div class="btns-container" *ngIf="selectedValue">
  <app-add-todo-modal [listIds]="todolistIds" (addTodoSubmit)="onAddTodoSubmit($event)">
  </app-add-todo-modal>
  <br />
</div>

<div nz-row *ngIf="selectedValue">
  <h3 nz-col nzFlex="4">TITLE</h3>
  <h3 nz-col nzFlex="2">DEADLINE</h3>
  <h3 nz-col nzFlex="1">LIST-ID</h3>
  <h3 nz-col nzFlex="1">SUBTASKS</h3>
  <h3 nz-col nzFlex="1">CHECKED</h3>
</div>

<div class="todos">
  <app-todo *ngFor="let todo of (todos$ | async) | sort:'position'" [todo]="todo"
    [showSubtasksOnTodoId]="showSubtasksOnTodoId" (checkboxClick)="onCheckboxClick($event, todo)"
    (doubleClick)="onDoubleClick(todo)">
  </app-todo>
</div>